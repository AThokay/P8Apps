E.showPrompt=function(m,a){function n(){g.reset().setFont("6x8",2).setFontAlign(0,0);var c=g.getWidth(),h=g.getHeight(),b=a.title;b&&(g.drawString(b,c/2,34),b=(g.stringWidth(b)+16)/2,g.fillRect(c/2-b,44,c/2+b,44));b=m.split("\n");var t=(h-16*b.length)/2;b.forEach(function(k,p){return g.drawString(k,c/2,t+16*p)});var r=0;l.forEach(function(k){return r+=48+g.stringWidth(k)});var d=(c-r)/2,f=h-20;l.forEach(function(k,p){var q=g.stringWidth(k);d+=(48+q)/2;var e=2+q/2;e=[d-e,f-12,d+e,f-12,d+e+4,f-8,d+
    e+4,f+8,d+e,f+12,d-e,f+12,d-e-4,f+8,d-e-4,f-8,d-e,f-12];g.setColor(p==a.selected?759:0).fillPoly(e).setColor(-1).drawPoly(e).drawString(k,d,f+1);d+=(48+q)/2});g.setColor(-1).flip()}a||(a={});a.buttons||(a.buttons={Yes:!0,No:!1});var l=Object.keys(a.buttons);a.selected||(a.selected=0);P8.prompt&&TC.removeListener("touch",P8.prompt);g.clear(1);if(!m)return Promise.resolve();n();P8.prompt=function(c,h,b){200>h||(1==l.length?80<c&&160>c&&(E.showPrompt(),b(a.buttons[l[a.selected]])):100>c?0!=a.selected?
    (a.selected=0,n()):(E.showPrompt(),b(a.buttons[l[a.selected]])):140<c&&(1!=a.selected?(a.selected=1,n()):(E.showPrompt(),b(a.buttons[l[a.selected]]))))};return new Promise(function(c){TC.on("touch",function(h){P8.prompt(h.x,h.y,c)})})};E.showAlert=function(m,a){return E.showPrompt(m,{title:a,buttons:{Ok:1}})};